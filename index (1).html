<!DOCTYPE html> <!-- نحدد HTML5 لضمان دعم ميزات حديثة -->
<html lang="en" dir="ltr"> <!-- لغة المحتوى واتجاه النص -->
  <head> <!-- بيانات التعريف والموارد -->
    <meta charset="UTF-8" /> <!-- ترميز UTF-8 لدعم كل اللغات -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <!-- جعل الصفحة متجاوبة -->
    <title>Login / Sign Up - CyberRank</title> <!-- عنوان التبويب يظهر اسم المشروع -->

    <!-- اتصالات مبكرة لخط Inter لتسريع التحميل -->
    <link rel="preconnect" href="https://fonts.googleapis.com"> <!-- تسريع استدعاء CSS للخط -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <!-- السماح بطلبات عبر النطاق -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"> <!-- استيراد الخط -->

    <style> /* نستخدم CSS داخلي لجعل الملف ذاتي الاكتفاء */
      :root { /* متغيرات ألوان لتوحيد الثيم الداكن مع درجات الأزرق */
        --bg: #0a0f1f; /* خلفية عامة داكنة */
        --card: #111733; /* خلفية البطاقة */
        --text: #e7eaf6; /* لون النص الأساسي */
        --muted: #aab1c9; /* لون نص ثانوي */
        --accent: #6ea8fe; /* درجة أزرق فاتح للأزرار والتأكيد */
        --accent-strong: #4f8dff; /* أزرق أقوى للتدرجات */
        --danger: #ff667a; /* لون الأخطاء */
        --ring: #263059; /* لون الحدود */
        --input: #17204a; /* خلفية الحقول */
        --brand-blue: #00c2ff; /* أزرق نيون للشعار */
        --brand-cyan: #00ffd5; /* سماوي نيون لوهج إضافي */
      


      * { box-sizing: border-box; } /* تضمين الح padding والborder ضمن أبعاد العنصر ليسهل التصميم */
      html, body { height: 100%; } /* السماح بتخطيطات تملأ الشاشة */

      body { /* الأساس المرئي للصفحة */
        margin: 0; /* إزالة هوامش المتصفح */
        font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; /* خط حديث واضح */
        background: radial-gradient(1200px 1200px at 10% 10%, #0e1636 0%, var(--bg) 60%); /* خلفية متدرجة لعمق بصري */
        color: var(--text); /* لون نص افتراضي */
        overflow: hidden; /* إخفاء تجاوز العناصر المتحركة بالخلفية */
      }

      /* ===== خلفية متحركة جميلة (Blobs + Grid) ===== */
      .background { /* طبقة خلفية مستقلة أسفل كل شيء */
        position: fixed; /* تثبيت الخلفية كي لا تتحرك بالتمرير */
        inset: 0; /* ملء الشاشة بالكامل */
        z-index: -1; /* خلف المحتوى */
        pointer-events: none; /* لا تعيق التفاعل مع المحتوى */
      }

      .bg-gradient { /* تدرج شامل مع حركة بطيئة لإضافة حياة للخلفية */
        position: absolute; /* تموضع حر داخل الخلفية */
        inset: -20%; /* أكبر من الشاشة لتفادي حواف فارغة أثناء الحركة */
        background: conic-gradient(from 180deg at 50% 50%, #0b1230, #0a1f5a, #072b78, #083b8e, #0b1230); /* تدرج مخروطي لألوان داكنة مزرقة */
        filter: blur(60px) saturate(1.2); /* طمس طفيف وتشبع لنعومة اللون */
        animation: gradientShift 18s linear infinite; /* حركة دوران بطيئة للتدرج */
        opacity: 0.55; /* لا يطغى على المحتوى */
      }

      @keyframes gradientShift { /* تحريك دوران التدرج لإحساس بالتدفق */
        0%   { transform: rotate(0deg) scale(1.05); }
        100% { transform: rotate(360deg) scale(1.05); }
      }

      .bg-blobs { /* مجموعة فقاعات لونية ناعمة تضيف عمقاً */
        position: absolute; /* تموضع حر */
        inset: 0; /* تغطي كامل الخلفية */
        overflow: hidden; /* منع تجاوز العناصر */
        mix-blend-mode: screen; /* دمج لوني يعطي توهجاً لطيفاً */
      }

      .blob { /* الفقاعة الواحدة */
        position: absolute; /* تموضع حر داخل المشهد */
        width: 42vmax; height: 42vmax; /* حجم نسبي للشاشة لمرونة */
        border-radius: 50%; /* دائرة كاملة */
        filter: blur(60px); /* نعومة الحواف */
        opacity: 0.22; /* شفافية خفيفة */
        animation: float 12s ease-in-out infinite alternate; /* حركة طفو لطيفة */
      }

      /* كل فقاعة بلون وموقع وزمن مختلف لإحساس طبيعي */
      .blob.b1 { background: radial-gradient(circle at 30% 30%, var(--brand-blue), transparent 60%); top: -10%; left: -10%; animation-duration: 14s; } /* فقاعة نيون زرقاء */
      .blob.b2 { background: radial-gradient(circle at 70% 40%, var(--brand-cyan), transparent 60%); bottom: -15%; right: -10%; animation-duration: 16s; } /* فقاعة سماوية */
      .blob.b3 { background: radial-gradient(circle at 50% 60%, #4f8dff, transparent 60%); top: 30%; right: 20%; animation-duration: 18s; } /* فقاعة أزرق متوسط */

      @keyframes float { /* حركة الطفو للأعلى والأسفل مع دوران خفيف */
        0%   { transform: translateY(0) translateX(0) rotate(0deg); }
        100% { transform: translateY(-40px) translateX(20px) rotate(6deg); }
      }

      .bg-grid { /* شبكة خطوط شفافة متحركة تعطي طابع سيبراني أنيق */
        position: absolute; inset: 0; /* تغطية كاملة */
        background:
          radial-gradient(600px 400px at 20% 10%, rgba(0, 213, 255, 0.06), transparent 70%), /* لمعان علوي يسار */
          radial-gradient(600px 400px at 80% 90%, rgba(0, 170, 255, 0.05), transparent 70%), /* لمعان سفلي يمين */
          repeating-linear-gradient( to right, rgba(255,255,255,0.04) 0 1px, transparent 1px 64px ), /* خطوط رأسية متكررة */
          repeating-linear-gradient( to bottom, rgba(255,255,255,0.035) 0 1px, transparent 1px 64px ); /* خطوط أفقية متكررة */
        mask-image: radial-gradient(ellipse at center, rgba(255,255,255,0.9), rgba(255,255,255,0.1) 60%, transparent 80%); /* تلاشي الشبكة للأطراف */
        animation: gridPan 30s linear infinite; /* حركة بطيئة للشبكة لإحساس ديناميكي */
      }

      @keyframes gridPan { /* تحريك الشبكة أفقياً وعمودياً ببطء */
        0%   { transform: translate3d(0, 0, 0); }
        100% { transform: translate3d(-128px, -128px, 0); }
      }
      /* ===== نهاية الخلفية ===== */

      /* ===== شريط علوي + قائمة منسدلة ===== */
      .topnav { position: fixed; top: 0; left: 0; right: 0; z-index: 10; background: rgba(10,15,31,0.6); backdrop-filter: blur(6px); border-bottom: 1px solid var(--ring); }
      .topnav-inner { max-width: 1100px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; padding: 10px 14px; }
      .topnav-brand { font-weight: 800; letter-spacing: 0.4px; background: linear-gradient(90deg, var(--brand-blue), var(--brand-cyan)); -webkit-background-clip: text; background-clip: text; color: transparent; text-shadow: 0 0 12px rgba(0,194,255,0.25); }
      .dropdown { position: relative; }
      .dropbtn { background: var(--input); color: var(--text); border: 1px solid var(--ring); border-radius: 10px; padding: 8px 12px; cursor: pointer; }
      .dropdown-content { display: none; position: absolute; right: 0; margin-top: 6px; min-width: 160px; background: var(--card); border: 1px solid var(--ring); border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.45); overflow: hidden; }
      .dropdown-content a { display: block; padding: 10px 12px; color: var(--text); text-decoration: none; }
      .dropdown-content a:hover { background: var(--input); }
      .dropdown.open .dropdown-content { display: block; }
      main.auth-layout { padding-top: 72px; }
      /* ===== نهاية الشريط العلوي ===== */

      /* ===== شاشة Nice داخلية ===== */
      #nice-screen { min-height: 100%; display: grid; place-items: center; padding: 24px; }
      .nice-card { padding: 24px 28px; border: 1px solid var(--ring); border-radius: 14px; background: rgba(255,255,255,0.02); box-shadow: 0 20px 60px rgba(0,0,0,0.45); text-align: center; }
      .nice-card h1 { margin: 0 0 8px; font-size: clamp(28px, 5vw, 40px); }
      .nice-card p { margin: 0 0 16px; color: var(--muted); }
      .nice-btn { display: inline-block; padding: 10px 14px; border-radius: 10px; background: linear-gradient(180deg, var(--accent), var(--accent-strong)); color: #0b1020; font-weight: 700; text-decoration: none; border: none; cursor: pointer; }
      /* ===== نهاية شاشة Nice ===== */

      .auth-layout { /* توسيط البطاقة */
        min-height: 100%; /* ارتفاع كامل */
        display: grid; /* شبكة للتوسيط */
        place-items: center; /* توسيط كامل */
        padding: 24px; /* مسافة داخلية */
      }

      /* ===== شريط العلامة والشعار CyberRank ===== */
      .brand { /* حاوية الشعار والنص الترحيبي */
        display: grid; /* ترتيب عمودي */
        place-items: center; /* توسيط المحتوى */
        gap: 8px; /* مسافة بين الاسم والجملة */
        margin-bottom: 18px; /* مسافة أسفل قبل البطاقة */
        text-align: center; /* محاذاة وسط */
      }

      .brand-title { /* تنسيق اسم المشروع */
        margin: 0; /* إزالة هوامش افتراضية */
        font-size: clamp(28px, 5vw, 40px); /* حجم مرن حسب العرض */
        font-weight: 800; /* وزن ثقيل للشعار */
        letter-spacing: 0.5px; /* فراغ خفيف بين الحروف */
        background: linear-gradient(90deg, var(--brand-blue), var(--brand-cyan)); /* تدرج لوني للشعار */
        -webkit-background-clip: text; background-clip: text; /* قص التدرج على النص */
        color: transparent; /* إظهار التدرج داخل النص فقط */
        text-shadow: 0 0 18px rgba(0, 194, 255, 0.35); /* توهج خفيف حول النص */
      }

      .brand-subtitle { /* الجملة الترحيبية */
        position: relative; /* لتمكين خط المؤشر */
        margin: 0; /* إزالة هوامش */
        color: var(--muted); /* لون باهت لطيف */
        font-size: clamp(14px, 3.2vw, 16px); /* حجم مرن */
        white-space: nowrap; /* سطر واحد لتأثير الكتابة */
        overflow: hidden; /* إخفاء النص أثناء الكتابة */
        width: 0; /* نبدأ بعرض 0 لتأثير الكتابة */
        border-right: 2px solid var(--brand-cyan); /* مؤشر كتابة وامض */
        animation: typing 4s steps(28, end) 0.6s forwards, /* تأثير الكتابة */
                   caret 1s step-end infinite; /* وميض المؤشر */
      }

      @keyframes typing { /* زيادة العرض بالتدريج كما لو يتم الكتابة */
        to { width: 20ch; } /* اكتب 20 حرف تقريباً (يضبط حسب النص) */
      }
      @keyframes caret { /* وميض مؤشر الكتابة */
        50% { border-color: transparent; }
      }
      /* ===== نهاية الشعار ===== */

      .card { /* حاوية النماذج */
        width: 100%; /* بعرض الحاوية */
        max-width: 720px; /* حد أقصى مريح */
        background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.0)), var(--card); /* خلفية ناعمة */
        border: 1px solid var(--ring); /* إطار خفيف */
        border-radius: 16px; /* زوايا ناعمة */
        padding: 20px; /* مسافة داخلية */
        box-shadow: 0 20px 60px rgba(0,0,0,0.45); /* ظل أقوى لعمق */
        position: relative; /* لطبقة التوهج */
        overflow: hidden; /* قص التوهج داخل البطاقة */
      }

      .card::before { /* توهج حدود متحرك حول البطاقة */
        content: ""; /* عنصر زخرفي */
        position: absolute; inset: -2px; /* يمتد خارج البطاقة قليلاً */
        border-radius: 18px; /* مطابق لانحناء البطاقة */
        background: conic-gradient(from 0deg, transparent 0 25%, rgba(0,194,255,0.5), rgba(0,255,213,0.4), transparent 75% 100%); /* تدرج مشع */
        filter: blur(12px); /* طمس للتوهج */
        opacity: 0.35; /* شفافية كي لا تكون مزعجة */
        animation: spin 8s linear infinite; /* دوران بطيء */
        pointer-events: none; /* لا يؤثر على التفاعل */
      }

      @keyframes spin { /* دوران التوهج */
        to { transform: rotate(360deg); }
      }

      .tabs { /* شريط التبويبات */
        display: flex; gap: 6px; /* ترتيب أفقي ومسافة */
        background: rgba(255,255,255,0.03); /* خلفية خفيفة */
        border: 1px solid var(--ring); /* إطار */
        border-radius: 12px; /* زوايا دائرية */
        padding: 6px; /* حشو داخلي */
        position: relative; z-index: 1; /* فوق توهج البطاقة */
      }

      .tab { /* زر تبويب */
        flex: 1; border: 0; border-radius: 8px; /* مظهر بسيط وحدود ناعمة */
        background: transparent; /* شفاف افتراضياً */
        color: var(--muted); /* لون باهت لغير النشط */
        padding: 12px 14px; font-weight: 600; cursor: pointer; /* قابلية النقر */
        transition: background 160ms ease, color 160ms ease; /* انتقالات ناعمة */
      }

      .tab.active { /* تبويب نشط */
        background: var(--input); color: var(--text); /* تمييز */
        box-shadow: inset 0 0 0 1px var(--ring); /* حد داخلي */
      }

      .panel { padding: 16px 6px 6px 6px; } /* مسافات حول محتوى اللوحة */
      .hidden { display: none; } /* إخفاء اللوحات غير النشطة */

      form { display: grid; gap: 16px; } /* تنظيم الحقول عمودياً */
      .field { display: grid; gap: 8px; } /* تجميع الحقل مع عنوانه وخطأه */

      .two-col { grid-template-columns: 1fr; } /* عمود واحد للموبايل */
      @media (min-width: 720px) {
        .two-col { grid-template-columns: 1fr 1fr; gap: 16px 16px; } /* عمودان للشاشات الأكبر */
      }

      label { font-size: 14px; color: var(--muted); } /* مظهر العناوين */

      /* حقول الإدخال */
      input[type="text"],
      input[type="email"],
      input[type="password"],
      input[type="number"] {
        width: 100%; padding: 12px 14px; /* حجم مريح */
        border-radius: 10px; border: 1px solid var(--ring); /* إطار ناعم */
        background: var(--input); color: var(--text); /* ثيم داكن */
        outline: none; /* إزالة الإطار الافتراضي */
        transition: border-color 160ms ease, box-shadow 160ms ease; /* إحساس تفاعلي */
      }

      input:focus { /* تمييز الإدخال عند التركيز */
        border-color: var(--accent); /* لون مميز */
        box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 22%, transparent); /* حلقة تركيز */
      }

      .choices { display: flex; gap: 12px; flex-wrap: wrap; } /* خيارات النوع بمرونة */
      .choice { /* كبسولات الخيارات */
        display: inline-flex; gap: 8px; align-items: center; /* محاذاة ونظام أفقي */
        padding: 8px 10px; border-radius: 999px; /* شكل حبة */
        background: rgba(255,255,255,0.04); border: 1px solid var(--ring); /* ثيم داكن */
        cursor: pointer; /* مؤشر يد */
      }

      .btn { /* الأزرار العامة */
        display: inline-flex; align-items: center; justify-content: center; /* تمركز النص */
        gap: 8px; padding: 12px 16px; /* حجم مريح */
        border-radius: 10px; border: 1px solid var(--ring); /* إطار بسيط */
        cursor: pointer; transition: transform 120ms ease, background 120ms ease; /* تفاعل */
      }

      .btn.primary { /* زر أساسي */
        background: linear-gradient(180deg, var(--accent), var(--accent-strong)); /* تدرج أزرق */
        color: #0b1020; font-weight: 700; border: none; /* نص داكن لتباين جيد */
      }

      .btn.primary:hover { transform: translateY(-1px); } /* حركة خفيفة عند المرور */
      .btn.primary:active { transform: translateY(0); } /* رجوع عند الضغط */

      .switch-note { margin-top: 8px; color: var(--muted); text-align: center; } /* نص مساعد للتبديل */
      .linklike { /* زر بشكل رابط */
        background: none; border: none; color: var(--accent); font: inherit; cursor: pointer; padding: 0;
      }

      .error { margin: 0; font-size: 12px; color: var(--danger); min-height: 16px; } /* رسائل الخطأ */

      /* ===== About + Logo تحت النماذج ===== */
      .about { /* قسم تعريف بالموقع تحت البطاقة لشرح سريع */
        width: min(920px, 94%); /* عرض مناسب للشاشات */
        margin-top: 20px; /* مسافة عن البطاقة */
        background: rgba(17, 23, 51, 0.65); /* خلفية داكنة شفافة */
        border: 1px solid var(--ring); /* إطار خفيف */
        border-radius: 16px; /* زوايا ناعمة */
        padding: 18px; /* مسافة داخلية */
        box-shadow: 0 10px 30px rgba(0,0,0,0.35); /* ظل لطيف */
        backdrop-filter: blur(6px); /* طمس زجاجي خفيف */
      }

      .about-head { /* رأس القسم: شعار SVG + عنوان فرعي */
        display: grid; grid-template-columns: auto 1fr; /* شعار - نص */
        align-items: center; gap: 14px; /* محاذاة ومسافات */
      }

      .logo { /* حاوية شعار SVG */
        width: 56px; height: 56px; /* حجم مناسب */
        display: grid; place-items: center; /* توسيط الشعار */
        border-radius: 14px; /* زوايا ناعمة */
        background: radial-gradient(circle at 30% 30%, rgba(0,194,255,0.25), transparent 60%); /* توهج خفيف */
        box-shadow: inset 0 0 0 1px rgba(0,194,255,0.25); /* حد داخلي */
      }

      .about-title { /* عنوان القسم */
        margin: 0; font-size: 20px; font-weight: 700; color: var(--text); /* نص واضح */
      }

      /* تمت إزالة عناصر الترجمة للحفاظ على بساطة المظهر */

      .about-body { /* نص الوصف */
        margin-top: 12px; color: var(--muted); line-height: 1.6; /* قراءة مريحة */
      }
      /* ===== نهاية About ===== */
    </style> <!-- نهاية CSS الداخلي -->
  </head>
  <body> <!-- محتوى الصفحة -->
    <nav class="topnav" aria-label="Primary">
      <div class="topnav-inner">
        <div class="topnav-brand">CyberRank</div>
        <div class="dropdown">
          <button class="dropbtn" id="menu-button" aria-haspopup="true" aria-expanded="false">Menu ▾</button>
          <div class="dropdown-content" role="menu" aria-labelledby="menu-button">
            <a href="#about" role="menuitem">About Us</a>
          </div>
        </div>
      </div>
    </nav>
    <!-- خلفية متحركة أنيقة: طبقات (تدرج + فقاعات + شبكة) لتعزيز الطابع السيبراني -->
    <div class="background"> <!-- طبقة خلفية عامة -->
      <div class="bg-gradient"></div> <!-- تدرج لوني دوّار لإحساس بالحياة -->
      <div class="bg-blobs"> <!-- مجموعة فقاعات لونية ناعمة -->
        <span class="blob b1"></span> <!-- فقاعة 1: أزرق نيون -->
        <span class="blob b2"></span> <!-- فقاعة 2: سماوي نيون -->
        <span class="blob b3"></span> <!-- فقاعة 3: أزرق متوسط -->
      </div>
      <div class="bg-grid"></div> <!-- شبكة خطوط شفافة متحركة لإحساس سيبراني -->
    </div>

    <main class="auth-layout"> <!-- تغليف للتوسيط -->
      <div id="app-screens">
        <!-- شاشة العلامة + النماذج -->
        <div id="screen-auth">
          <!-- شريط العلامة: اسم المشروع CyberRank وجملة ترحيبية متحركة -->
          <div class="brand"> <!-- حاوية الشعار والنص -->
            <h1 class="brand-title">CyberRank</h1> <!-- اسم المشروع بخط متدرج وتوهج -->
            <p class="brand-subtitle">Welcome to CyberRank</p> <!-- جملة ترحيبية بتأثير كتابة -->
          </div>

          <section class="card"> <!-- البطاقة التي تحتوي التبويبات والنماذج مع توهج حدود متحرك -->
            <div class="tabs" role="tablist" aria-label="Authentication tabs"> <!-- تبويبات للوصول السريع -->
              <button id="tab-login" class="tab active" role="tab" aria-selected="true" aria-controls="panel-login">Login</button> <!-- تبديل إلى تسجيل الدخول -->
              <button id="tab-signup" class="tab" role="tab" aria-selected="false" aria-controls="panel-signup">Sign Up</button> <!-- تبديل إلى إنشاء حساب -->
            </div>

            <div id="panel-login" class="panel" role="tabpanel" aria-labelledby="tab-login"> <!-- لوحة تسجيل الدخول -->
              <form id="login-form" novalidate> <!-- تعطيل التحقق الافتراضي لاستخدام تحقق مخصص -->
                <div class="field"> <!-- حقل اسم المستخدم بدلاً من البريد حسب طلبك -->
                  <label for="login-username">Username</label> <!-- عنوان الحقل بالإنجليزي لتحسين الوضوح -->
                  <input id="login-username" name="username" type="text" placeholder="e.g., cyber_ninja" autocomplete="username" required /> <!-- إدخال اسم المستخدم -->
                  <p class="error" data-error-for="login-username"></p> <!-- رسالة خطأ للـ Username -->
                </div>
                <div class="field"> <!-- حقل كلمة المرور -->
                  <label for="login-password">Password</label> <!-- عنوان الحقل -->
                  <input id="login-password" name="password" type="password" placeholder="********" autocomplete="current-password" required /> <!-- إدخال كلمة المرور -->
                  <p class="error" data-error-for="login-password"></p> <!-- رسالة خطأ لكلمة المرور -->
                </div>

                <button type="submit" class="btn primary">Login</button> <!-- زر الدخول -->
              </form>
            </div>

            <div id="panel-signup" class="panel hidden" role="tabpanel" aria-labelledby="tab-signup"> <!-- لوحة إنشاء الحساب (مخفية) -->
              <form id="signup-form" novalidate> <!-- تحقق مخصص -->
                <div class="field"> <!-- حقل البريد -->
                  <label for="signup-email">Email</label> <!-- عنوان -->
                  <input id="signup-email" name="email" type="email" placeholder="you@example.com" autocomplete="email" required /> <!-- إدخال البريد -->
                  <p class="error" data-error-for="signup-email"></p> <!-- خطأ -->
                </div>

                <div class="field"> <!-- اسم المستخدم -->
                  <label for="signup-username">Username</label>
                  <input id="signup-username" name="username" type="text" placeholder="Choose a unique username" autocomplete="username" required />
                  <p class="error" data-error-for="signup-username"></p>
                </div>

                <div class="field two-col"> <!-- كلمة المرور + التأكيد -->
                  <div> <!-- عمود كلمة المرور -->
                    <label for="signup-password">Password</label> <!-- عنوان -->
                    <input id="signup-password" name="password" type="password" placeholder="At least 8 characters" autocomplete="new-password" required /> <!-- إدخال -->
                    <p class="error" data-error-for="signup-password"></p> <!-- خطأ -->
                  </div>
                  <div> <!-- عمود التأكيد -->
                    <label for="signup-confirm">Confirm Password</label> <!-- عنوان -->
                    <input id="signup-confirm" name="confirmPassword" type="password" placeholder="Re-enter password" autocomplete="new-password" required /> <!-- إدخال -->
                    <p class="error" data-error-for="signup-confirm"></p> <!-- خطأ -->
                  </div>
                </div>

                <div class="field"> <!-- نوع المستخدم -->
                  <label>User Type</label> <!-- عنوان المجموعة -->
                  <div class="choices" role="radiogroup" aria-label="User Type"> <!-- مجموعة راديو -->
                    <label class="choice"><input type="radio" name="userType" value="employee" checked /> Employee</label> <!-- موظف -->
                    <label class="choice"><input type="radio" name="userType" value="school" /> School Student</label> <!-- طالب مدرسة -->
                    <label class="choice"><input type="radio" name="userType" value="university" /> University Student</label> <!-- طالب جامعة -->
                  </div>
                  <p class="error" data-error-for="userType"></p> <!-- خطأ -->
                </div>

                <div class="field two-col"> <!-- العمر + المرحلة -->
                  <div> <!-- عمود العمر -->
                    <label for="signup-age">Age</label> <!-- عنوان -->
                    <input id="signup-age" name="age" type="number" min="1" max="120" placeholder="e.g., 21" required /> <!-- إدخال رقمي مع حدود -->
                    <p class="error" data-error-for="signup-age"></p> <!-- خطأ -->
                  </div>
                  <div> <!-- عمود المرحلة -->
                    <label for="signup-stage" id="stage-label">Stage/Level</label> <!-- عنوان ديناميكي حسب النوع -->
                    <input id="signup-stage" name="stage" type="text" placeholder="e.g., Junior, Grade 10, Year 2" required /> <!-- إدخال نصي -->
                    <p class="error" data-error-for="signup-stage"></p> <!-- خطأ -->
                  </div>
                </div>

                <button type="submit" class="btn primary">Create Account</button> <!-- إنشاء الحساب -->
              </form>
            </div>

            <p class="switch-note"> <!-- نص مساعد للتبديل -->
              <span>Want to <button id="switch-to-signup" class="linklike" type="button">create an account</button> or <button id="switch-to-login" class="linklike" type="button">sign in</button>?</span>
            </p>
          </section>

          <!-- ===== قسم التعريف بالموقع (About) ===== -->
          <section class="about" id="about"> <!-- قسم تعريفي يعرض شعاراً ووصفاً وإمكانية ترجمة -->
            <div class="about-head"> <!-- رأس القسم: شعار + عنوان + مترجم -->
              <div class="logo" aria-hidden="true"> <!-- شعار SVG بسيط بأسلوب سايبر -->
                <svg width="36" height="36" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"> <!-- أيقونة درع بريق -->
                  <defs>
                    <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
                      <stop offset="0%" stop-color="#00C2FF"/><stop offset="100%" stop-color="#00FFD5"/>
                    </linearGradient>
                  </defs>
                  <path d="M32 6l18 6v12c0 12-8 23-18 28-10-5-18-16-18-28V12l18-6z" stroke="url(#g1)" stroke-width="2.5" fill="rgba(0, 194, 255, 0.08)"/>
                  <path d="M22 30l8 8 12-14" stroke="url(#g1)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <h3 class="about-title">About CyberRank</h3> <!-- عنوان واضح للقسم -->
              <!-- تمت إزالة المترجم -->
            </div>
            <div class="about-body" id="about-text">
              CyberRank helps you test yourself with cybersecurity questions, track your level by age group, and earn points as you progress. Practice real-world scenarios, review explanations, and discover your strengths. Designed for learners at any stage—whether you’re an employee, school student, or university student—CyberRank adapts to your journey.
            </div>
          </section>
          <!-- ===== نهاية قسم التعريف ===== -->
        </div>

        <!-- شاشة Nice -->
        <div id="nice-screen" class="hidden" aria-live="polite">
          <div class="nice-card">
            <h1>Nice 🎉</h1>
            <p id="nice-greeting">You logged in successfully.</p>
            <button id="back-to-auth" class="nice-btn" type="button">Back</button>
          </div>
        </div>
      </div>

      <!-- ===== قسم التعريف بالموقع (About) تحت النماذج كما طلبت ===== -->
      <section class="about" id="about"> <!-- قسم تعريفي يعرض شعاراً ووصفاً وإمكانية ترجمة -->
        <div class="about-head"> <!-- رأس القسم: شعار + عنوان + مترجم -->
          <div class="logo" aria-hidden="true"> <!-- شعار SVG بسيط بأسلوب سايبر -->
            <!-- نستخدم SVG لمرونة وحِدة عالية -->
            <svg width="36" height="36" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"> <!-- أيقونة درع بريق -->
              <defs>
                <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#00C2FF"/><stop offset="100%" stop-color="#00FFD5"/>
                </linearGradient>
              </defs>
              <path d="M32 6l18 6v12c0 12-8 23-18 28-10-5-18-16-18-28V12l18-6z" stroke="url(#g1)" stroke-width="2.5" fill="rgba(0, 194, 255, 0.08)"/>
              <path d="M22 30l8 8 12-14" stroke="url(#g1)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h3 class="about-title">About CyberRank</h3> <!-- عنوان واضح للقسم -->
          <div class="translate"> <!-- أداة بسيطة لاختيار لغة العرض (بدون العبرية) -->
            <label for="lang" style="color:var(--muted);font-size:13px;">Translate:</label> <!-- نص مختصر للمترجم -->
            <select id="lang" aria-label="Select language"> <!-- ثلاث لغات: إنجليزي، عربي، فرنسي حسب طلبك -->
              <option value="en" selected>English</option> <!-- افتراضي -->
              <option value="ar">العربية</option> <!-- عربية -->
              <option value="fr">Français</option> <!-- فرنسية -->
            </select>
            <button id="apply-lang" class="btn">Apply</button> <!-- زر تطبيق الترجمة -->
          </div>
        </div>
        <div class="about-body" id="about-text"> <!-- النص الفعلي للوصف (يُترجم وفق الاختيار) -->
          <!-- نص إنجليزي افتراضي يشرح الموقع ويكمله بسلاسة -->
          CyberRank helps you test yourself with cybersecurity questions, track your level by age group, and earn points as you progress. Practice real-world scenarios, review explanations, and discover your strengths. Designed for learners at any stage—whether you’re an employee, school student, or university student—CyberRank adapts to your journey.
        </div>
      </section>
      <!-- ===== نهاية قسم التعريف ===== -->
    </main>

    <script> /* جافاسكربت للتبديل والتحقق والتخزين المحلي + ترجمة قسم About + تسجيل الدخول باليوزرنيم */
      (function () { /* دالة فورية IIFE لعزل النطاق */
        const $ = (sel) => document.querySelector(sel); /* اختصار لاختيار عنصر واحد */
        const $$ = (sel) => Array.from(document.querySelectorAll(sel)); /* اختصار لاختيار عدة عناصر كمصفوفة */

        const tabLogin = $('#tab-login'); /* زر تبويب تسجيل الدخول */
        const tabSignup = $('#tab-signup'); /* زر تبويب إنشاء الحساب */
        const panelLogin = $('#panel-login'); /* لوحة تسجيل الدخول */
        const panelSignup = $('#panel-signup'); /* لوحة إنشاء الحساب */
        const switchToSignup = $('#switch-to-signup'); /* زر نصي للتبديل لإنشاء حساب */
        const switchToLogin = $('#switch-to-login'); /* زر نصي للتبديل لتسجيل الدخول */

        const loginForm = $('#login-form'); /* نموذج تسجيل الدخول */
        const signupForm = $('#signup-form'); /* نموذج إنشاء الحساب */

        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i; /* تحقق أساسي لصيغة البريد */

        function setActiveTab(target) { /* تبديل بين اللوحتين */
          const isLogin = target === 'login'; /* تحديد اللوحة المطلوبة */
          tabLogin.classList.toggle('active', isLogin); /* تفعيل مظهر التبويب */
          tabSignup.classList.toggle('active', !isLogin); /* عكسه للتبويب الآخر */
          tabLogin.setAttribute('aria-selected', String(isLogin)); /* تحديث سمة وصولية */
          tabSignup.setAttribute('aria-selected', String(!isLogin)); /* تحديث سمة وصولية */
          panelLogin.classList.toggle('hidden', !isLogin); /* إظهار/إخفاء حسب الهدف */
          panelSignup.classList.toggle('hidden', isLogin); /* إظهار/إخفاء حسب الهدف */
        }

        tabLogin.addEventListener('click', () => setActiveTab('login')); /* حدث النقر للتبديل */
        tabSignup.addEventListener('click', () => setActiveTab('signup')); /* حدث النقر للتبديل */
        switchToSignup.addEventListener('click', () => setActiveTab('signup')); /* زر نصي للتبديل */
        switchToLogin.addEventListener('click', () => setActiveTab('login')); /* زر نصي للتبديل */

        const stageLabel = $('#stage-label'); /* عنصر عنوان حقل المرحلة */
        const stageInput = $('#signup-stage'); /* عنصر إدخال المرحلة */
        function updateStageLabel() { /* تحديث النص والـ placeholder ديناميكياً */
          const selected = ($$("input[name='userType']").find(r => r.checked) || {}).value; /* قراءة الخيار الحالي */
          if (selected === 'school') { /* طالب مدرسة */
            stageLabel.textContent = 'Grade Level'; /* عنوان مناسب */
            stageInput.placeholder = 'e.g., Grade 10'; /* مثال */
          } else if (selected === 'university') { /* طالب جامعة */
            stageLabel.textContent = 'University Year'; /* عنوان مناسب */
            stageInput.placeholder = 'e.g., Year 2'; /* مثال */
          } else { /* موظف */
            stageLabel.textContent = 'Stage/Level'; /* عام */
            stageInput.placeholder = 'e.g., Junior'; /* مثال */
          }
        }
        $$("input[name='userType']").forEach(r => r.addEventListener('change', updateStageLabel)); /* تحديث عند تغيير النوع */
        updateStageLabel(); /* ضبط أولي */

        /* ===== منطق القائمة المنسدلة في الشريط العلوي ===== */
        const dropdown = document.querySelector('.dropdown');
        const menuButton = document.getElementById('menu-button');
        function closeDropdown() {
          dropdown.classList.remove('open');
          menuButton.setAttribute('aria-expanded', 'false');
        }
        menuButton.addEventListener('click', (ev) => {
          ev.stopPropagation();
          const isOpen = dropdown.classList.toggle('open');
          menuButton.setAttribute('aria-expanded', String(isOpen));
        });
        document.addEventListener('click', (ev) => {
          if (!dropdown.contains(ev.target)) closeDropdown();
        });
        document.querySelectorAll('.dropdown-content a').forEach(a => a.addEventListener('click', closeDropdown));
        /* ===== نهاية منطق القائمة المنسدلة ===== */

        function setError(inputId, message) { /* عرض رسالة خطأ أسفل الحقل */
          const p = document.querySelector(`[data-error-for="${inputId}"]`); /* عنصر رسالة الخطأ */
          if (p) p.textContent = message || ''; /* تعيين/مسح الرسالة */
        }

        function clearErrors(form) { /* مسح كل الأخطاء في نموذج */
          form.querySelectorAll('.error').forEach(e => (e.textContent = '')); /* مسح النصوص */
        }

        function getUsers() { /* قراءة المستخدمين من التخزين المحلي */
          try { return JSON.parse(localStorage.getItem('users') || '{}'); } /* تحويل JSON إلى كائن */
          catch { return {}; } /* fallback عند فشل التحويل */
        }

        function saveUsers(users) { /* حفظ المستخدمين في التخزين المحلي */
          localStorage.setItem('users', JSON.stringify(users)); /* تحويل لكائن JSON وتخزينه */
        }

        /* مساعد: العثور على مستخدم عبر اسم المستخدم (بدلاً من البريد) للدخول باليوزرنيم */
        function findUserByUsername(username) { /* نبحث داخل القيم عن username مطابق */
          const users = getUsers(); /* نجلب كل المستخدمين */
          for (const email in users) { /* نمر على كل عنصر */
            const u = users[email];
            if (!u) continue;
            const uname = u.username || (email.split('@')[0]); /* نستخدم المخزن أو نشتق من البريد كاحتياطي */
            if (uname.toLowerCase() === username.toLowerCase()) { /* مقارنة حساسة لحالة بسيطة */
              return u; /* نعيد المستخدم */
            }
          }
          return null; /* إن لم نجد أحداً */
        }

        function validateSignup(form) { /* تحقق من بيانات إنشاء الحساب */
          clearErrors(form); /* مسح الأخطاء السابقة */
          let ok = true; /* علم نجاح/فشل */

          const email = form.email.value.trim(); /* بريد */
          const username = (form.username?.value || '').trim(); /* اسم مستخدم */
          const password = form.password.value; /* كلمة مرور */
          const confirmPassword = form.confirmPassword.value; /* تأكيد */
          const ageRaw = form.age.value.trim(); /* عمر كنص */
          const stage = form.stage.value.trim(); /* مرحلة */
          const userType = (form.userType.value || '').trim(); /* نوع المستخدم */

          if (!email || !emailRegex.test(email)) { setError('signup-email', 'Enter a valid email.'); ok = false; } /* صحة البريد بالإنجليزي */
          if (!username || username.length < 3) { setError('signup-username', 'Username must be at least 3 characters.'); ok = false; }
          if (!password || password.length < 8) { setError('signup-password', 'Password must be at least 8 characters.'); ok = false; } /* طول كلمة المرور */
          if (confirmPassword !== password) { setError('signup-confirm', 'Passwords do not match.'); ok = false; } /* تطابق الكلمتين */
          const age = Number(ageRaw); /* تحويل لعمر رقمي */
          if (!ageRaw || Number.isNaN(age) || age < 1 || age > 120) { setError('signup-age', 'Enter a valid age (1-120).'); ok = false; } /* مدى منطقي */
          if (!stage) { setError('signup-stage', 'This field is required.'); ok = false; } /* مطلوب */
          if (!userType) { setError('userType', 'Select a user type.'); ok = false; } /* مطلوب */

          return { ok, values: { email, username, password, userType, age, stage } }; /* إعادة القيم النظيفة */
        }

        function validateLogin(form) { /* تحقق من بيانات تسجيل الدخول (Username + Password) */
          clearErrors(form); /* مسح أخطاء سابقة */
          let ok = true; /* علم */
          const username = form.username.value.trim(); /* اسم المستخدم */
          const password = form.password.value; /* كلمة مرور */
          if (!username) { setError('login-username', 'Enter a valid username.'); ok = false; } /* Username مطلوب */
          if (!password) { setError('login-password', 'Password is required.'); ok = false; } /* مطلوب */
          return { ok, values: { username, password } }; /* إعادة القيم */
        }

        signupForm.addEventListener('submit', (e) => { /* إرسال إنشاء الحساب */
          e.preventDefault(); /* منع إعادة تحميل الصفحة */
          const { ok, values } = validateSignup(signupForm); /* تحقق */
          if (!ok) return; /* إيقاف عند أخطاء */

          const users = getUsers(); /* قراءة المستخدمين الحاليين */
          if (users[values.email]) { setError('signup-email', 'An account with this email already exists.'); return; } /* منع التكرار */
          /* تحقق من تفرد اسم المستخدم */
          for (const emailKey in users) {
            const u = users[emailKey];
            if (u && u.username && u.username.toLowerCase() === values.username.toLowerCase()) {
              setError('signup-username', 'This username is taken.');
              return;
            }
          }

          users[values.email] = { /* إنشاء مستخدم (تجريبي) */
            email: values.email, /* حفظ البريد */
            password: values.password, /* حفظ كلمة المرور (تجريبي) */
            userType: values.userType, /* نوع المستخدم */
            age: values.age, /* العمر */
            stage: values.stage, /* المرحلة/المستوى */
            username: values.username, /* حفظ اسم المستخدم المدخل */
            createdAt: new Date().toISOString() /* طابع زمني */
          };

          saveUsers(users); /* حفظ */
          /* نخزن اسم المستخدم الحالي بدلاً من البريد لسهولة العرض لاحقاً في الترحيب */
          localStorage.setItem('currentUser', values.username);
          alert('Account created! You can now log in.'); /* تنبيه نجاح (إنجليزي) */
          signupForm.reset(); /* تنظيف الحقول */
          updateStageLabel(); /* ضبط placeholder */
          setActiveTab('login'); /* الانتقال لتبويب الدخول */
        });

        loginForm.addEventListener('submit', (e) => { /* إرسال تسجيل الدخول */
          e.preventDefault(); /* منع إعادة التحميل */
          const { ok, values } = validateLogin(loginForm); /* تحقق */
          if (!ok) return; /* توقف إن أخفق */

          /* العثور على المستخدم عبر اليوزرنيم بدلاً من البريد حسب طلبك */
          const user = findUserByUsername(values.username);
          if (!user || user.password !== values.password) { setError('login-password', 'Invalid username or password.'); return; } /* تحقق من الاعتماد */

          /* نستخدم الاسم المخزن إن وجد، وإلا نعيد اشتقاقه من البريد كحل احتياطي */
          const username = user.username || (user.email.split('@')[0]);

          /* نخزن اسم المستخدم الحالي ونُظهر رسالة ترحيب بالاسم */
          localStorage.setItem('currentUser', username);
          loginForm.reset(); /* تنظيف الحقول */
          /* إظهار شاشة Nice داخلياً بدلاً من فتح صفحة جديدة */
          const authScreen = document.getElementById('screen-auth');
          const niceScreen = document.getElementById('nice-screen');
          const greet = document.getElementById('nice-greeting');
          if (greet) greet.textContent = `Welcome, ${username}! You logged in successfully.`;
          if (authScreen && niceScreen) {
            authScreen.classList.add('hidden');
            niceScreen.classList.remove('hidden');
          }
        });

        /* ===== منطق ترجمة نص قسم About وفق الاختيار (en/ar/fr) بدون العبرية ===== */
        /* تمت إزالة واجهة الترجمة والبرمجيات الخاصة بها */

        /* زر العودة من شاشة Nice */
        const backBtn = document.getElementById('back-to-auth');
        if (backBtn) {
          backBtn.addEventListener('click', () => {
            const authScreen = document.getElementById('screen-auth');
            const niceScreen = document.getElementById('nice-screen');
            if (authScreen && niceScreen) {
              niceScreen.classList.add('hidden');
              authScreen.classList.remove('hidden');
            }
          });
        }
      })(); /* نهاية IIFE */
    </script> <!-- نهاية JS -->
  </body>
</html>